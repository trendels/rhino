<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>rhino.request</title>
  <link href="../static/favicon.ico" rel="icon" type="image/x-icon">
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../static/style.css">
</head>
<body>
<div id="sidebar">
<a href="../index.html"><img alt="Rhino logo" src="../static/Rhinoceros.svg"></a>
<ul>
<li><a href="../index.html">Documentation</a></li>
<li><a href="../modules/index.html">Module index</a></li>
</ul>
</div>
<div id="module-toc">
<ul>
<li><a href="#rhino.request">Module <a href="../modules/rhino.request.html#rhino.request"><code>rhino.request</code></a></a>
<ul>
<li><a href="#classes">Classes</a>
<ul>
<li><a href="../modules/rhino.request.html#Request"><code>Request</code></a></li>
<li><a href="../modules/rhino.request.html#RequestHeaders"><code>RequestHeaders</code></a></li>
<li><a href="../modules/rhino.request.html#QueryDict"><code>QueryDict</code></a></li>
<li><a href="../modules/rhino.request.html#WsgiInput"><code>WsgiInput</code></a></li>
</ul></li>
</ul></li>
</ul>
</div>
<section id="module-rhino.request" class="level1">
<h1>Module <a href="../modules/rhino.request.html#rhino.request"><code id="rhino.request">rhino.request</code></a></h1>
<section id="classes" class="level2">
<h2>Classes</h2>
<section id="Request" class="level3">
<h3><code class="sourceCode python"><span class="kw">class</span> Request</code></h3>
<div class="docstring">
<p>Represents an HTTP request built from a WSGI environment.</p>
<p>Class variables:</p>
<dl>
<dt>wrap_wsgi_input</dt>
<dd><p>When <code class="sourceCode python"><span class="ot">True</span></code> (the default), <a href="../modules/rhino.request.html#Request.body"><code>Request.body</code></a> returns <code>environ['wsgi.input']</code> wrapped in <a href="../modules/rhino.request.html#WsgiInput"><code>WsgiInput</code></a>, to make it safe to call <code>body.read()</code> without providing the content length. This is required for servers like <code>wsgiref.simple_server</code>, which is also used by <code>Rhino.mapper.start_server()</code>.</p>
<p>Some WSGI servers (e.g. <code>gevent.pywsgi</code>) provide a safe <code>wsgi.input</code> that also supports chunked encoding (a.k.a streamed uploads). To be able to benefit from this functionality, <code>wrap_wsgi_input</code> needs to be set to <code class="sourceCode python"><span class="ot">False</span></code>. Alternatively, the original input file can always be found in <code>Request.environ['wsgi.input']</code>.</p>
</dd>
</dl>
</div>
<section id="Request.__init__" class="level4">
<h4><code class="sourceCode python"><span class="ot">__init__</span>(environ)</code></h4>
</section>
<section id="body" class="level4">
<h4><code id="Request.body">body</code></h4>
<div class="docstring">
<p>Reads and returns the entire request body.</p>
<p>The return value is cached after the first access.</p>
</div>
</section>
<section id="content_length" class="level4">
<h4><code id="Request.content_length">content_length</code></h4>
<div class="docstring">
<p>The value of the Content-Length header as an integer, or None</p>
</div>
</section>
<section id="content_type" class="level4">
<h4><code id="Request.content_type">content_type</code></h4>
<div class="docstring">
<p>The value of the Content-Type header, or None</p>
</div>
</section>
<section id="cookies" class="level4">
<h4><code id="Request.cookies">cookies</code></h4>
<div class="docstring">
<p>Returns a dictionary mapping cookie names to their values.</p>
</div>
</section>
<section id="form" class="level4">
<h4><code id="Request.form">form</code></h4>
<div class="docstring">
<p>Reads the request body and tries to parse it as a web form.</p>
<p>Parsing is done using the stdlib's <code>cgi.FieldStorage</code> class which supports multipart forms (file uploads). Returns a <a href="../modules/rhino.request.html#QueryDict"><code>QueryDict</code></a> instance holding the form fields. Uploaded files are represented as form fields with a 'filename' attribute.</p>
</div>
</section>
<section id="input" class="level4">
<h4><code class="sourceCode python" id="Request.input"><span class="dt">input</span></code></h4>
<div class="docstring">
<p>Returns a file-like object representing the request body.</p>
</div>
</section>
<section id="method" class="level4">
<h4><code id="Request.method">method</code></h4>
<div class="docstring">
<p>The HTTP request method (verb).</p>
</div>
</section>
<section id="path_info" class="level4">
<h4><code id="Request.path_info">path_info</code></h4>
<div class="docstring">
<p>The PATH_INFO environment key as a unicode string.</p>
</div>
</section>
<section id="query" class="level4">
<h4><code id="Request.query">query</code></h4>
<div class="docstring">
<p>A QueryDict instance holding the query parameters (QUERY_STRING).</p>
</div>
</section>
<section id="remote_addr" class="level4">
<h4><code id="Request.remote_addr">remote_addr</code></h4>
<div class="docstring">
<p>The REMOTE_ADDR environment key</p>
</div>
</section>
<section id="remote_port" class="level4">
<h4><code id="Request.remote_port">remote_port</code></h4>
<div class="docstring">
<p>The client's port number as an integer, or None (REMOTE_PORT).</p>
</div>
</section>
<section id="routing_args" class="level4">
<h4><code id="Request.routing_args">routing_args</code></h4>
<div class="docstring">
<p>Returns named parameters extracted from the URL during routing.</p>
</div>
</section>
<section id="scheme" class="level4">
<h4><code id="Request.scheme">scheme</code></h4>
<div class="docstring">
<p>The URL scheme, usually 'http' or 'https' (wsgi.url_scheme).</p>
</div>
</section>
<section id="script_name" class="level4">
<h4><code id="Request.script_name">script_name</code></h4>
<div class="docstring">
<p>The SCRIPT_NAME environment key as a unicode string.</p>
</div>
</section>
<section id="server_name" class="level4">
<h4><code id="Request.server_name">server_name</code></h4>
<div class="docstring">
<p>The SERVER_NAME environment key</p>
</div>
</section>
<section id="server_port" class="level4">
<h4><code id="Request.server_port">server_port</code></h4>
<div class="docstring">
<p>The server's port number as an integer, or None (SERVER_PORT).</p>
</div>
</section>
<section id="server_protocol" class="level4">
<h4><code id="Request.server_protocol">server_protocol</code></h4>
<div class="docstring">
<p>The SERVER_PROTOCOL environment key</p>
</div>
</section>
<section id="url" class="level4">
<h4><code id="Request.url">url</code></h4>
<div class="docstring">
<p>The reconstructed request URL (absolute).</p>
</div>
</section>
<section id="Request.url_for" class="level4">
<h4><code class="sourceCode python">url_for(*args, **kw)</code></h4>
<div class="docstring">
<p>Build the URL for a target route.</p>
<p>The target is the first positional argument, and can be any valid target for <code>Mapper.path</code>, which will be looked up on the current mapper instance and used to build the URL for that route. Additionally, it can be one of:</p>
<dl>
<dt>'.'</dt>
<dd>Builds the URL for the current route.
</dd>
<dt>'/'</dt>
<dd>Builds the URL for the root (top-most) mapper instance.
</dd>
<dt>'/a', '/a.b', etc.</dt>
<dd>Builds the URL for a named route relative to the root mapper.
</dd>
<dt>'.a', '..a', '..a.b', etc.</dt>
<dd>Builds a URL for a named route relative to the current mapper. Each additional leading '.' after the first one starts one level higher in the hierarchy of nested mappers (i.e. '.a' is equivalent to 'a').
</dd>
</dl>
<p>Special keyword arguments:</p>
<dl>
<dt><code>_query</code></dt>
<dd>Append a query string to the URL (dict or list of tuples)
</dd>
<dt><code>_relative</code></dt>
<dd>When True, build a relative URL (default: False)
</dd>
</dl>
<p>All other keyword arguments are treated as parameters for the URL template.</p>
</div>
</section>
</section>
<section id="RequestHeaders" class="level3">
<h3><code class="sourceCode python"><span class="kw">class</span> RequestHeaders</code></h3>
<div class="docstring">
<p>A dictionary-like object to access request headers.</p>
<p>Keys are case-insensitive. Accessing a header that is not present returns None instead of raising KeyError.</p>
</div>
<section id="RequestHeaders.__init__" class="level4">
<h4><code class="sourceCode python"><span class="ot">__init__</span>(environ)</code></h4>
</section>
</section>
<section id="QueryDict" class="level3">
<h3><code class="sourceCode python"><span class="kw">class</span> QueryDict</code></h3>
<div class="docstring">
<p>A dictionary-like object to access query parameters.</p>
<p>Accessing a key returns the first value for that key. The keys(), values() and items() methods will return a key/value multiple times, if it is present multiple times in the query string.</p>
<p>The get_all() method can be used to return all values for a given key.</p>
</div>
<section id="QueryDict.__init__" class="level4">
<h4><code class="sourceCode python"><span class="ot">__init__</span>(items)</code></h4>
</section>
<section id="QueryDict.get_all" class="level4">
<h4><code class="sourceCode python">get_all(key)</code></h4>
<div class="docstring">
<p>Return a list of values for the given key.</p>
</div>
</section>
</section>
<section id="WsgiInput" class="level3">
<h3><code class="sourceCode python"><span class="kw">class</span> WsgiInput</code></h3>
<div class="docstring">
<p>Represents a WSGI input filehandle that is safe to use read() on</p>
</div>
<section id="WsgiInput.__init__" class="level4">
<h4><code class="sourceCode python"><span class="ot">__init__</span>(rfile, content_length=<span class="ot">None</span>)</code></h4>
</section>
</section>
</section>
</section>
</body>
</html>
